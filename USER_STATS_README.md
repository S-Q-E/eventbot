# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

## üìä –û–ø–∏—Å–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏

–î–æ–±–∞–≤–ª–µ–Ω–∞ –Ω–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è "–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π" –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é –±–æ—Ç–∞, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–æ–ø-10 –∏–≥—Ä–æ–∫–æ–≤ –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É —Å—ã–≥—Ä–∞–Ω–Ω—ã—Ö –º–∞—Ç—á–µ–π.

## üéØ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:
- **–¢–æ–ø-10 –∏–≥—Ä–æ–∫–æ–≤** - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ª—É—á—à–∏—Ö –∏–≥—Ä–æ–∫–æ–≤ –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –º–∞—Ç—á–µ–π
- **–ú–µ–¥–∞–ª–∏ –¥–ª—è –ø—Ä–∏–∑–µ—Ä–æ–≤** - üëëü•àü•â –¥–ª—è –ø–µ—Ä–≤—ã—Ö —Ç—Ä–µ—Ö –º–µ—Å—Ç
- **–ü–æ–∑–∏—Ü–∏—è —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è** - –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –≤ —Ç–æ–ø-10, –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –µ–≥–æ –º–µ—Å—Ç–æ
- **–ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Å–∫–ª–æ–Ω–µ–Ω–∏–µ** - "–º–∞—Ç—á" –¥–ª—è 1 –∏–≥—Ä—ã, "–º–∞—Ç—á–µ–π" –¥–ª—è –æ—Å—Ç–∞–ª—å–Ω—ã—Ö

### –§–æ—Ä–º–∞—Ç –≤—ã–≤–æ–¥–∞:
```
üìä –¢–æ–ø –∏–≥—Ä–æ–∫–æ–≤ –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –º–∞—Ç—á–µ–π:

üëë–í–∞—Å–∏–ª–∏–π –ö–æ–∑–ª–æ–≤ 7 –º–∞—Ç—á–µ–π
ü•à–ì—Ä–∏–≥–æ—Ä–∏–π –ì 6 –º–∞—Ç—á–µ–π
ü•â–¢–∞—Ç—å—è–Ω–∞ –ö–æ–∑–ª–æ–≤–∞ 5 –º–∞—Ç—á–µ–π
4. –ê–ª–µ–∫—Å–µ–π –ü–µ—Ç—Ä–æ–≤ 4 –º–∞—Ç—á–µ–π
5. –ú–∞—Ä–∏—è –°–∏–¥–æ—Ä–æ–≤–∞ 3 –º–∞—Ç—á–µ–π
...
10. –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤ 1 –º–∞—Ç—á–µ–π

34. –í—ã 1 –º–∞—Ç—á
```

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

### –§–∞–π–ª—ã:
- `handlers/main_menu.py` - –æ—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ —Ñ—É–Ω–∫—Ü–∏–∏
- `test_user_stats.py` - —Ç–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç

### –ö–ª—é—á–µ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:

1. **`user_statistics()`** - –æ—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
   - –ü–æ–ª—É—á–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏–∑ –ë–î, –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ `user_games`
   - –§–æ—Ä–º–∏—Ä—É–µ—Ç —Ç–æ–ø-10 —Å –º–µ–¥–∞–ª—è–º–∏
   - –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø–æ–∑–∏—Ü–∏—é —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ–∑–∏—Ü–∏—é, –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –≤ —Ç–æ–ø-10

### –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã:

```python
# –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
users = db.query(User).filter(User.user_games > 0).order_by(User.user_games.desc()).all()

# –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–æ–ø-10
for i, user in enumerate(users[:10], 1):
    if i <= 3:
        stats_text += f"{medals[i-1]}{user.first_name} {user.last_name} {user.user_games} –º–∞—Ç—á–µ–π\n"
    else:
        stats_text += f"{i}. {user.first_name} {user.last_name} {user.user_games} –º–∞—Ç—á–µ–π\n"

# –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–∏ —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
for i, user in enumerate(users, 1):
    if user.id == user_id:
        current_user_position = i
        break
```

## üéÆ –ò—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö

–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –æ—Å–Ω–æ–≤–∞–Ω–∞ –Ω–∞ –ø–æ–ª–µ `user_games` –≤ —Ç–∞–±–ª–∏—Ü–µ `users`:
- –ü–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å `user_games > 0`
- –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ —É–±—ã–≤–∞–Ω–∏—é –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∏–≥—Ä
- –î–∞–Ω–Ω—ã–µ –±–µ—Ä—É—Ç—Å—è –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–°–æ–∑–¥–∞–Ω —Ç–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç `test_user_stats.py` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:
- –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∏–∑ –ë–î
- –ü—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç–∏ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è —Ç–æ–ø-10
- –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø–æ–∑–∏—Ü–∏–∏ —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –°–∏–º—É–ª—è—Ü–∏–∏ –≤—ã–≤–æ–¥–∞ –∫–∞–∫ –≤ –±–æ—Ç–µ

## üì± –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –±–æ—Ç

### –î–æ–±–∞–≤–ª–µ–Ω–æ –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é:
- –ö–Ω–æ–ø–∫–∞ "üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π" 
- Callback `user_stats`
- –ö–Ω–æ–ø–∫–∞ "üîô –ù–∞–∑–∞–¥" –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é

### –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å:
- –§—É–Ω–∫—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ –≤—Å–µ–º –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º
- –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–∞–∫ –≤ –∞–¥–º–∏–Ω—Å–∫–æ–º, —Ç–∞–∫ –∏ –≤ –æ–±—ã—á–Ω–æ–º –º–µ–Ω—é

## üöÄ –†–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Ç–µ–ø–µ—Ä—å –º–æ–≥—É—Ç:
- –í–∏–¥–µ—Ç—å —Ç–æ–ø-10 –∏–≥—Ä–æ–∫–æ–≤ –ø–æ –º–∞—Ç—á–∞–º
- –£–∑–Ω–∞—Ç—å —Å–≤–æ—é –ø–æ–∑–∏—Ü–∏—é –≤ —Ä–µ–π—Ç–∏–Ω–≥–µ
- –°—Ä–∞–≤–Ω–∏–≤–∞—Ç—å —Å–≤–æ–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å –¥—Ä—É–≥–∏–º–∏
- –ú–æ—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å—Å—è –∫ —É—á–∞—Å—Ç–∏—é –≤ –±–æ–ª—å—à–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ —Å–æ–±—ã—Ç–∏–π 